!function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=12)}([function(module,exports,__webpack_require__){"use strict";var colorString=__webpack_require__(7),convert=__webpack_require__(10),_slice=[].slice,skippedModels=["keyword","gray","hex"],hashedModelKeys={};Object.keys(convert).forEach((function(model){hashedModelKeys[_slice.call(convert[model].labels).sort().join("")]=model}));var limiters={};function Color(obj,model){if(!(this instanceof Color))return new Color(obj,model);if(model&&model in skippedModels&&(model=null),model&&!(model in convert))throw new Error("Unknown model: "+model);var i,channels;if(null==obj)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(obj instanceof Color)this.model=obj.model,this.color=obj.color.slice(),this.valpha=obj.valpha;else if("string"==typeof obj){var result=colorString.get(obj);if(null===result)throw new Error("Unable to parse color from string: "+obj);this.model=result.model,channels=convert[this.model].channels,this.color=result.value.slice(0,channels),this.valpha="number"==typeof result.value[channels]?result.value[channels]:1}else if(obj.length){this.model=model||"rgb",channels=convert[this.model].channels;var newArr=_slice.call(obj,0,channels);this.color=zeroArray(newArr,channels),this.valpha="number"==typeof obj[channels]?obj[channels]:1}else if("number"==typeof obj)obj&=16777215,this.model="rgb",this.color=[obj>>16&255,obj>>8&255,255&obj],this.valpha=1;else{this.valpha=1;var keys=Object.keys(obj);"alpha"in obj&&(keys.splice(keys.indexOf("alpha"),1),this.valpha="number"==typeof obj.alpha?obj.alpha:0);var hashedKeys=keys.sort().join("");if(!(hashedKeys in hashedModelKeys))throw new Error("Unable to parse color from object: "+JSON.stringify(obj));this.model=hashedModelKeys[hashedKeys];var labels=convert[this.model].labels,color=[];for(i=0;i<labels.length;i++)color.push(obj[labels[i]]);this.color=zeroArray(color)}if(limiters[this.model])for(channels=convert[this.model].channels,i=0;i<channels;i++){var limit=limiters[this.model][i];limit&&(this.color[i]=limit(this.color[i]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function getset(model,channel,modifier){return(model=Array.isArray(model)?model:[model]).forEach((function(m){(limiters[m]||(limiters[m]=[]))[channel]=modifier})),model=model[0],function(val){var result;return arguments.length?(modifier&&(val=modifier(val)),(result=this[model]()).color[channel]=val,result):(result=this[model]().color[channel],modifier&&(result=modifier(result)),result)}}function maxfn(max){return function(v){return Math.max(0,Math.min(max,v))}}function assertArray(val){return Array.isArray(val)?val:[val]}function zeroArray(arr,length){for(var i=0;i<length;i++)"number"!=typeof arr[i]&&(arr[i]=0);return arr}Color.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(places){var self=this.model in colorString.to?this:this.rgb(),args=1===(self=self.round("number"==typeof places?places:1)).valpha?self.color:self.color.concat(this.valpha);return colorString.to[self.model](args)},percentString:function(places){var self=this.rgb().round("number"==typeof places?places:1),args=1===self.valpha?self.color:self.color.concat(this.valpha);return colorString.to.rgb.percent(args)},array:function(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var result={},channels=convert[this.model].channels,labels=convert[this.model].labels,i=0;i<channels;i++)result[labels[i]]=this.color[i];return 1!==this.valpha&&(result.alpha=this.valpha),result},unitArray:function(){var rgb=this.rgb().color;return rgb[0]/=255,rgb[1]/=255,rgb[2]/=255,1!==this.valpha&&rgb.push(this.valpha),rgb},unitObject:function(){var rgb=this.rgb().object();return rgb.r/=255,rgb.g/=255,rgb.b/=255,1!==this.valpha&&(rgb.alpha=this.valpha),rgb},round:function(places){return places=Math.max(places||0,0),new Color(this.color.map(function(places){return function(num){return function(num,places){return Number(num.toFixed(places))}(num,places)}}(places)).concat(this.valpha),this.model)},alpha:function(val){return arguments.length?new Color(this.color.concat(Math.max(0,Math.min(1,val))),this.model):this.valpha},red:getset("rgb",0,maxfn(255)),green:getset("rgb",1,maxfn(255)),blue:getset("rgb",2,maxfn(255)),hue:getset(["hsl","hsv","hsl","hwb","hcg"],0,(function(val){return(val%360+360)%360})),saturationl:getset("hsl",1,maxfn(100)),lightness:getset("hsl",2,maxfn(100)),saturationv:getset("hsv",1,maxfn(100)),value:getset("hsv",2,maxfn(100)),chroma:getset("hcg",1,maxfn(100)),gray:getset("hcg",2,maxfn(100)),white:getset("hwb",1,maxfn(100)),wblack:getset("hwb",2,maxfn(100)),cyan:getset("cmyk",0,maxfn(100)),magenta:getset("cmyk",1,maxfn(100)),yellow:getset("cmyk",2,maxfn(100)),black:getset("cmyk",3,maxfn(100)),x:getset("xyz",0,maxfn(100)),y:getset("xyz",1,maxfn(100)),z:getset("xyz",2,maxfn(100)),l:getset("lab",0,maxfn(100)),a:getset("lab",1),b:getset("lab",2),keyword:function(val){return arguments.length?new Color(val):convert[this.model].keyword(this.color)},hex:function(val){return arguments.length?new Color(val):colorString.to.hex(this.rgb().round().color)},rgbNumber:function(){var rgb=this.rgb().color;return(255&rgb[0])<<16|(255&rgb[1])<<8|255&rgb[2]},luminosity:function(){for(var rgb=this.rgb().color,lum=[],i=0;i<rgb.length;i++){var chan=rgb[i]/255;lum[i]=chan<=.03928?chan/12.92:Math.pow((chan+.055)/1.055,2.4)}return.2126*lum[0]+.7152*lum[1]+.0722*lum[2]},contrast:function(color2){var lum1=this.luminosity(),lum2=color2.luminosity();return lum1>lum2?(lum1+.05)/(lum2+.05):(lum2+.05)/(lum1+.05)},level:function(color2){var contrastRatio=this.contrast(color2);return contrastRatio>=7.1?"AAA":contrastRatio>=4.5?"AA":""},isDark:function(){var rgb=this.rgb().color;return(299*rgb[0]+587*rgb[1]+114*rgb[2])/1e3<128},isLight:function(){return!this.isDark()},negate:function(){for(var rgb=this.rgb(),i=0;i<3;i++)rgb.color[i]=255-rgb.color[i];return rgb},lighten:function(ratio){var hsl=this.hsl();return hsl.color[2]+=hsl.color[2]*ratio,hsl},darken:function(ratio){var hsl=this.hsl();return hsl.color[2]-=hsl.color[2]*ratio,hsl},saturate:function(ratio){var hsl=this.hsl();return hsl.color[1]+=hsl.color[1]*ratio,hsl},desaturate:function(ratio){var hsl=this.hsl();return hsl.color[1]-=hsl.color[1]*ratio,hsl},whiten:function(ratio){var hwb=this.hwb();return hwb.color[1]+=hwb.color[1]*ratio,hwb},blacken:function(ratio){var hwb=this.hwb();return hwb.color[2]+=hwb.color[2]*ratio,hwb},grayscale:function(){var rgb=this.rgb().color,val=.3*rgb[0]+.59*rgb[1]+.11*rgb[2];return Color.rgb(val,val,val)},fade:function(ratio){return this.alpha(this.valpha-this.valpha*ratio)},opaquer:function(ratio){return this.alpha(this.valpha+this.valpha*ratio)},rotate:function(degrees){var hsl=this.hsl(),hue=hsl.color[0];return hue=(hue=(hue+degrees)%360)<0?360+hue:hue,hsl.color[0]=hue,hsl},mix:function(mixinColor,weight){if(!mixinColor||!mixinColor.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof mixinColor);var color1=mixinColor.rgb(),color2=this.rgb(),p=void 0===weight?.5:weight,w=2*p-1,a=color1.alpha()-color2.alpha(),w1=((w*a==-1?w:(w+a)/(1+w*a))+1)/2,w2=1-w1;return Color.rgb(w1*color1.red()+w2*color2.red(),w1*color1.green()+w2*color2.green(),w1*color1.blue()+w2*color2.blue(),color1.alpha()*p+color2.alpha()*(1-p))}},Object.keys(convert).forEach((function(model){if(-1===skippedModels.indexOf(model)){var channels=convert[model].channels;Color.prototype[model]=function(){if(this.model===model)return new Color(this);if(arguments.length)return new Color(arguments,model);var newAlpha="number"==typeof arguments[channels]?channels:this.valpha;return new Color(assertArray(convert[this.model][model].raw(this.color)).concat(newAlpha),model)},Color[model]=function(color){return"number"==typeof color&&(color=zeroArray(_slice.call(arguments),channels)),new Color(color,model)}}})),module.exports=Color},function(module,exports,__webpack_require__){"use strict";module.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(module,exports,__webpack_require__){var cssKeywords=__webpack_require__(1),reverseKeywords={};for(var key in cssKeywords)cssKeywords.hasOwnProperty(key)&&(reverseKeywords[cssKeywords[key]]=key);var convert=module.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var model in convert)if(convert.hasOwnProperty(model)){if(!("channels"in convert[model]))throw new Error("missing channels property: "+model);if(!("labels"in convert[model]))throw new Error("missing channel labels property: "+model);if(convert[model].labels.length!==convert[model].channels)throw new Error("channel and label counts mismatch: "+model);var channels=convert[model].channels,labels=convert[model].labels;delete convert[model].channels,delete convert[model].labels,Object.defineProperty(convert[model],"channels",{value:channels}),Object.defineProperty(convert[model],"labels",{value:labels})}convert.rgb.hsl=function(rgb){var h,l,r=rgb[0]/255,g=rgb[1]/255,b=rgb[2]/255,min=Math.min(r,g,b),max=Math.max(r,g,b),delta=max-min;return max===min?h=0:r===max?h=(g-b)/delta:g===max?h=2+(b-r)/delta:b===max&&(h=4+(r-g)/delta),(h=Math.min(60*h,360))<0&&(h+=360),l=(min+max)/2,[h,100*(max===min?0:l<=.5?delta/(max+min):delta/(2-max-min)),100*l]},convert.rgb.hsv=function(rgb){var rdif,gdif,bdif,h,s,r=rgb[0]/255,g=rgb[1]/255,b=rgb[2]/255,v=Math.max(r,g,b),diff=v-Math.min(r,g,b),diffc=function(c){return(v-c)/6/diff+.5};return 0===diff?h=s=0:(s=diff/v,rdif=diffc(r),gdif=diffc(g),bdif=diffc(b),r===v?h=bdif-gdif:g===v?h=1/3+rdif-bdif:b===v&&(h=2/3+gdif-rdif),h<0?h+=1:h>1&&(h-=1)),[360*h,100*s,100*v]},convert.rgb.hwb=function(rgb){var r=rgb[0],g=rgb[1],b=rgb[2];return[convert.rgb.hsl(rgb)[0],100*(1/255*Math.min(r,Math.min(g,b))),100*(b=1-1/255*Math.max(r,Math.max(g,b)))]},convert.rgb.cmyk=function(rgb){var k,r=rgb[0]/255,g=rgb[1]/255,b=rgb[2]/255;return[100*((1-r-(k=Math.min(1-r,1-g,1-b)))/(1-k)||0),100*((1-g-k)/(1-k)||0),100*((1-b-k)/(1-k)||0),100*k]},convert.rgb.keyword=function(rgb){var reversed=reverseKeywords[rgb];if(reversed)return reversed;var currentClosestKeyword,x,y,currentClosestDistance=1/0;for(var keyword in cssKeywords)if(cssKeywords.hasOwnProperty(keyword)){var value=cssKeywords[keyword],distance=(x=rgb,y=value,Math.pow(x[0]-y[0],2)+Math.pow(x[1]-y[1],2)+Math.pow(x[2]-y[2],2));distance<currentClosestDistance&&(currentClosestDistance=distance,currentClosestKeyword=keyword)}return currentClosestKeyword},convert.keyword.rgb=function(keyword){return cssKeywords[keyword]},convert.rgb.xyz=function(rgb){var r=rgb[0]/255,g=rgb[1]/255,b=rgb[2]/255;return[100*(.4124*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)+.3576*(g=g>.04045?Math.pow((g+.055)/1.055,2.4):g/12.92)+.1805*(b=b>.04045?Math.pow((b+.055)/1.055,2.4):b/12.92)),100*(.2126*r+.7152*g+.0722*b),100*(.0193*r+.1192*g+.9505*b)]},convert.rgb.lab=function(rgb){var xyz=convert.rgb.xyz(rgb),x=xyz[0],y=xyz[1],z=xyz[2];return y/=100,z/=108.883,x=(x/=95.047)>.008856?Math.pow(x,1/3):7.787*x+16/116,[116*(y=y>.008856?Math.pow(y,1/3):7.787*y+16/116)-16,500*(x-y),200*(y-(z=z>.008856?Math.pow(z,1/3):7.787*z+16/116))]},convert.hsl.rgb=function(hsl){var t1,t2,t3,rgb,val,h=hsl[0]/360,s=hsl[1]/100,l=hsl[2]/100;if(0===s)return[val=255*l,val,val];t1=2*l-(t2=l<.5?l*(1+s):l+s-l*s),rgb=[0,0,0];for(var i=0;i<3;i++)(t3=h+1/3*-(i-1))<0&&t3++,t3>1&&t3--,val=6*t3<1?t1+6*(t2-t1)*t3:2*t3<1?t2:3*t3<2?t1+(t2-t1)*(2/3-t3)*6:t1,rgb[i]=255*val;return rgb},convert.hsl.hsv=function(hsl){var h=hsl[0],s=hsl[1]/100,l=hsl[2]/100,smin=s,lmin=Math.max(l,.01);return s*=(l*=2)<=1?l:2-l,smin*=lmin<=1?lmin:2-lmin,[h,100*(0===l?2*smin/(lmin+smin):2*s/(l+s)),100*((l+s)/2)]},convert.hsv.rgb=function(hsv){var h=hsv[0]/60,s=hsv[1]/100,v=hsv[2]/100,hi=Math.floor(h)%6,f=h-Math.floor(h),p=255*v*(1-s),q=255*v*(1-s*f),t=255*v*(1-s*(1-f));switch(v*=255,hi){case 0:return[v,t,p];case 1:return[q,v,p];case 2:return[p,v,t];case 3:return[p,q,v];case 4:return[t,p,v];case 5:return[v,p,q]}},convert.hsv.hsl=function(hsv){var lmin,sl,l,h=hsv[0],s=hsv[1]/100,v=hsv[2]/100,vmin=Math.max(v,.01);return l=(2-s)*v,sl=s*vmin,[h,100*(sl=(sl/=(lmin=(2-s)*vmin)<=1?lmin:2-lmin)||0),100*(l/=2)]},convert.hwb.rgb=function(hwb){var i,v,f,n,r,g,b,h=hwb[0]/360,wh=hwb[1]/100,bl=hwb[2]/100,ratio=wh+bl;switch(ratio>1&&(wh/=ratio,bl/=ratio),f=6*h-(i=Math.floor(6*h)),0!=(1&i)&&(f=1-f),n=wh+f*((v=1-bl)-wh),i){default:case 6:case 0:r=v,g=n,b=wh;break;case 1:r=n,g=v,b=wh;break;case 2:r=wh,g=v,b=n;break;case 3:r=wh,g=n,b=v;break;case 4:r=n,g=wh,b=v;break;case 5:r=v,g=wh,b=n}return[255*r,255*g,255*b]},convert.cmyk.rgb=function(cmyk){var c=cmyk[0]/100,m=cmyk[1]/100,y=cmyk[2]/100,k=cmyk[3]/100;return[255*(1-Math.min(1,c*(1-k)+k)),255*(1-Math.min(1,m*(1-k)+k)),255*(1-Math.min(1,y*(1-k)+k))]},convert.xyz.rgb=function(xyz){var r,g,b,x=xyz[0]/100,y=xyz[1]/100,z=xyz[2]/100;return g=-.9689*x+1.8758*y+.0415*z,b=.0557*x+-.204*y+1.057*z,r=(r=3.2406*x+-1.5372*y+-.4986*z)>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,g=g>.0031308?1.055*Math.pow(g,1/2.4)-.055:12.92*g,b=b>.0031308?1.055*Math.pow(b,1/2.4)-.055:12.92*b,[255*(r=Math.min(Math.max(0,r),1)),255*(g=Math.min(Math.max(0,g),1)),255*(b=Math.min(Math.max(0,b),1))]},convert.xyz.lab=function(xyz){var x=xyz[0],y=xyz[1],z=xyz[2];return y/=100,z/=108.883,x=(x/=95.047)>.008856?Math.pow(x,1/3):7.787*x+16/116,[116*(y=y>.008856?Math.pow(y,1/3):7.787*y+16/116)-16,500*(x-y),200*(y-(z=z>.008856?Math.pow(z,1/3):7.787*z+16/116))]},convert.lab.xyz=function(lab){var x,y,z,l=lab[0];x=lab[1]/500+(y=(l+16)/116),z=y-lab[2]/200;var y2=Math.pow(y,3),x2=Math.pow(x,3),z2=Math.pow(z,3);return y=y2>.008856?y2:(y-16/116)/7.787,x=x2>.008856?x2:(x-16/116)/7.787,z=z2>.008856?z2:(z-16/116)/7.787,[x*=95.047,y*=100,z*=108.883]},convert.lab.lch=function(lab){var h,l=lab[0],a=lab[1],b=lab[2];return(h=360*Math.atan2(b,a)/2/Math.PI)<0&&(h+=360),[l,Math.sqrt(a*a+b*b),h]},convert.lch.lab=function(lch){var hr,l=lch[0],c=lch[1];return hr=lch[2]/360*2*Math.PI,[l,c*Math.cos(hr),c*Math.sin(hr)]},convert.rgb.ansi16=function(args){var r=args[0],g=args[1],b=args[2],value=1 in arguments?arguments[1]:convert.rgb.hsv(args)[2];if(0===(value=Math.round(value/50)))return 30;var ansi=30+(Math.round(b/255)<<2|Math.round(g/255)<<1|Math.round(r/255));return 2===value&&(ansi+=60),ansi},convert.hsv.ansi16=function(args){return convert.rgb.ansi16(convert.hsv.rgb(args),args[2])},convert.rgb.ansi256=function(args){var r=args[0],g=args[1],b=args[2];return r===g&&g===b?r<8?16:r>248?231:Math.round((r-8)/247*24)+232:16+36*Math.round(r/255*5)+6*Math.round(g/255*5)+Math.round(b/255*5)},convert.ansi16.rgb=function(args){var color=args%10;if(0===color||7===color)return args>50&&(color+=3.5),[color=color/10.5*255,color,color];var mult=.5*(1+~~(args>50));return[(1&color)*mult*255,(color>>1&1)*mult*255,(color>>2&1)*mult*255]},convert.ansi256.rgb=function(args){if(args>=232){var c=10*(args-232)+8;return[c,c,c]}var rem;return args-=16,[Math.floor(args/36)/5*255,Math.floor((rem=args%36)/6)/5*255,rem%6/5*255]},convert.rgb.hex=function(args){var string=(((255&Math.round(args[0]))<<16)+((255&Math.round(args[1]))<<8)+(255&Math.round(args[2]))).toString(16).toUpperCase();return"000000".substring(string.length)+string},convert.hex.rgb=function(args){var match=args.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!match)return[0,0,0];var colorString=match[0];3===match[0].length&&(colorString=colorString.split("").map((function(char){return char+char})).join(""));var integer=parseInt(colorString,16);return[integer>>16&255,integer>>8&255,255&integer]},convert.rgb.hcg=function(rgb){var hue,r=rgb[0]/255,g=rgb[1]/255,b=rgb[2]/255,max=Math.max(Math.max(r,g),b),min=Math.min(Math.min(r,g),b),chroma=max-min;return hue=chroma<=0?0:max===r?(g-b)/chroma%6:max===g?2+(b-r)/chroma:4+(r-g)/chroma+4,hue/=6,[360*(hue%=1),100*chroma,100*(chroma<1?min/(1-chroma):0)]},convert.hsl.hcg=function(hsl){var s=hsl[1]/100,l=hsl[2]/100,c=1,f=0;return(c=l<.5?2*s*l:2*s*(1-l))<1&&(f=(l-.5*c)/(1-c)),[hsl[0],100*c,100*f]},convert.hsv.hcg=function(hsv){var s=hsv[1]/100,v=hsv[2]/100,c=s*v,f=0;return c<1&&(f=(v-c)/(1-c)),[hsv[0],100*c,100*f]},convert.hcg.rgb=function(hcg){var h=hcg[0]/360,c=hcg[1]/100,g=hcg[2]/100;if(0===c)return[255*g,255*g,255*g];var mg,pure=[0,0,0],hi=h%1*6,v=hi%1,w=1-v;switch(Math.floor(hi)){case 0:pure[0]=1,pure[1]=v,pure[2]=0;break;case 1:pure[0]=w,pure[1]=1,pure[2]=0;break;case 2:pure[0]=0,pure[1]=1,pure[2]=v;break;case 3:pure[0]=0,pure[1]=w,pure[2]=1;break;case 4:pure[0]=v,pure[1]=0,pure[2]=1;break;default:pure[0]=1,pure[1]=0,pure[2]=w}return mg=(1-c)*g,[255*(c*pure[0]+mg),255*(c*pure[1]+mg),255*(c*pure[2]+mg)]},convert.hcg.hsv=function(hcg){var c=hcg[1]/100,v=c+hcg[2]/100*(1-c),f=0;return v>0&&(f=c/v),[hcg[0],100*f,100*v]},convert.hcg.hsl=function(hcg){var c=hcg[1]/100,l=hcg[2]/100*(1-c)+.5*c,s=0;return l>0&&l<.5?s=c/(2*l):l>=.5&&l<1&&(s=c/(2*(1-l))),[hcg[0],100*s,100*l]},convert.hcg.hwb=function(hcg){var c=hcg[1]/100,v=c+hcg[2]/100*(1-c);return[hcg[0],100*(v-c),100*(1-v)]},convert.hwb.hcg=function(hwb){var w=hwb[1]/100,v=1-hwb[2]/100,c=v-w,g=0;return c<1&&(g=(v-c)/(1-c)),[hwb[0],100*c,100*g]},convert.apple.rgb=function(apple){return[apple[0]/65535*255,apple[1]/65535*255,apple[2]/65535*255]},convert.rgb.apple=function(rgb){return[rgb[0]/255*65535,rgb[1]/255*65535,rgb[2]/255*65535]},convert.gray.rgb=function(args){return[args[0]/100*255,args[0]/100*255,args[0]/100*255]},convert.gray.hsl=convert.gray.hsv=function(args){return[0,0,args[0]]},convert.gray.hwb=function(gray){return[0,100,gray[0]]},convert.gray.cmyk=function(gray){return[0,0,0,gray[0]]},convert.gray.lab=function(gray){return[gray[0],0,0]},convert.gray.hex=function(gray){var val=255&Math.round(gray[0]/100*255),string=((val<<16)+(val<<8)+val).toString(16).toUpperCase();return"000000".substring(string.length)+string},convert.rgb.gray=function(rgb){return[(rgb[0]+rgb[1]+rgb[2])/3/255*100]}},function(module,exports,__webpack_require__){var api=__webpack_require__(4),content=__webpack_require__(5);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},function(module,exports,__webpack_require__){"use strict";var memo,isOldIE=function(){return void 0===memo&&(memo=Boolean(window&&document&&document.all&&!window.atob)),memo},getTarget=function(){var memo={};return function(target){if(void 0===memo[target]){var styleTarget=document.querySelector(target);if(window.HTMLIFrameElement&&styleTarget instanceof window.HTMLIFrameElement)try{styleTarget=styleTarget.contentDocument.head}catch(e){styleTarget=null}memo[target]=styleTarget}return memo[target]}}(),stylesInDom=[];function getIndexByIdentifier(identifier){for(var result=-1,i=0;i<stylesInDom.length;i++)if(stylesInDom[i].identifier===identifier){result=i;break}return result}function modulesToDom(list,options){for(var idCountMap={},identifiers=[],i=0;i<list.length;i++){var item=list[i],id=options.base?item[0]+options.base:item[0],count=idCountMap[id]||0,identifier="".concat(id," ").concat(count);idCountMap[id]=count+1;var index=getIndexByIdentifier(identifier),obj={css:item[1],media:item[2],sourceMap:item[3]};-1!==index?(stylesInDom[index].references++,stylesInDom[index].updater(obj)):stylesInDom.push({identifier:identifier,updater:addStyle(obj,options),references:1}),identifiers.push(identifier)}return identifiers}function insertStyleElement(options){var style=document.createElement("style"),attributes=options.attributes||{};if(void 0===attributes.nonce){var nonce=__webpack_require__.nc;nonce&&(attributes.nonce=nonce)}if(Object.keys(attributes).forEach((function(key){style.setAttribute(key,attributes[key])})),"function"==typeof options.insert)options.insert(style);else{var target=getTarget(options.insert||"head");if(!target)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");target.appendChild(style)}return style}var textStore,replaceText=(textStore=[],function(index,replacement){return textStore[index]=replacement,textStore.filter(Boolean).join("\n")});function applyToSingletonTag(style,index,remove,obj){var css=remove?"":obj.media?"@media ".concat(obj.media," {").concat(obj.css,"}"):obj.css;if(style.styleSheet)style.styleSheet.cssText=replaceText(index,css);else{var cssNode=document.createTextNode(css),childNodes=style.childNodes;childNodes[index]&&style.removeChild(childNodes[index]),childNodes.length?style.insertBefore(cssNode,childNodes[index]):style.appendChild(cssNode)}}function applyToTag(style,options,obj){var css=obj.css,media=obj.media,sourceMap=obj.sourceMap;if(media?style.setAttribute("media",media):style.removeAttribute("media"),sourceMap&&btoa&&(css+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))," */")),style.styleSheet)style.styleSheet.cssText=css;else{for(;style.firstChild;)style.removeChild(style.firstChild);style.appendChild(document.createTextNode(css))}}var singleton=null,singletonCounter=0;function addStyle(obj,options){var style,update,remove;if(options.singleton){var styleIndex=singletonCounter++;style=singleton||(singleton=insertStyleElement(options)),update=applyToSingletonTag.bind(null,style,styleIndex,!1),remove=applyToSingletonTag.bind(null,style,styleIndex,!0)}else style=insertStyleElement(options),update=applyToTag.bind(null,style,options),remove=function(){!function(style){if(null===style.parentNode)return!1;style.parentNode.removeChild(style)}(style)};return update(obj),function(newObj){if(newObj){if(newObj.css===obj.css&&newObj.media===obj.media&&newObj.sourceMap===obj.sourceMap)return;update(obj=newObj)}else remove()}}module.exports=function(list,options){(options=options||{}).singleton||"boolean"==typeof options.singleton||(options.singleton=isOldIE());var lastIdentifiers=modulesToDom(list=list||[],options);return function(newList){if(newList=newList||[],"[object Array]"===Object.prototype.toString.call(newList)){for(var i=0;i<lastIdentifiers.length;i++){var index=getIndexByIdentifier(lastIdentifiers[i]);stylesInDom[index].references--}for(var newLastIdentifiers=modulesToDom(newList,options),_i=0;_i<lastIdentifiers.length;_i++){var _index=getIndexByIdentifier(lastIdentifiers[_i]);0===stylesInDom[_index].references&&(stylesInDom[_index].updater(),stylesInDom.splice(_index,1))}lastIdentifiers=newLastIdentifiers}}}},function(module,exports,__webpack_require__){(exports=__webpack_require__(6)(!1)).push([module.i,"body{background-color:#000;display:flex;flex-direction:column;align-items:center;width:100vw;height:100vh;margin:0 0}canvas{background:#000;margin-top:30px}.build{color:#444;font-size:12px;font-family:Menlo;text-align:left;width:100%}",""]),module.exports=exports},function(module,exports,__webpack_require__){"use strict";module.exports=function(useSourceMap){var list=[];return list.toString=function(){return this.map((function(item){var content=function(item,useSourceMap){var content=item[1]||"",cssMapping=item[3];if(!cssMapping)return content;if(useSourceMap&&"function"==typeof btoa){var sourceMapping=(sourceMap=cssMapping,base64=btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))),data="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64),"/*# ".concat(data," */")),sourceURLs=cssMapping.sources.map((function(source){return"/*# sourceURL=".concat(cssMapping.sourceRoot||"").concat(source," */")}));return[content].concat(sourceURLs).concat([sourceMapping]).join("\n")}var sourceMap,base64,data;return[content].join("\n")}(item,useSourceMap);return item[2]?"@media ".concat(item[2]," {").concat(content,"}"):content})).join("")},list.i=function(modules,mediaQuery,dedupe){"string"==typeof modules&&(modules=[[null,modules,""]]);var alreadyImportedModules={};if(dedupe)for(var i=0;i<this.length;i++){var id=this[i][0];null!=id&&(alreadyImportedModules[id]=!0)}for(var _i=0;_i<modules.length;_i++){var item=[].concat(modules[_i]);dedupe&&alreadyImportedModules[item[0]]||(mediaQuery&&(item[2]?item[2]="".concat(mediaQuery," and ").concat(item[2]):item[2]=mediaQuery),list.push(item))}},list}},function(module,exports,__webpack_require__){var colorNames=__webpack_require__(1),swizzle=__webpack_require__(8),reverseNames={};for(var name in colorNames)colorNames.hasOwnProperty(name)&&(reverseNames[colorNames[name]]=name);var cs=module.exports={to:{},get:{}};function clamp(num,min,max){return Math.min(Math.max(min,num),max)}function hexDouble(num){var str=num.toString(16).toUpperCase();return str.length<2?"0"+str:str}cs.get=function(string){var val,model;switch(string.substring(0,3).toLowerCase()){case"hsl":val=cs.get.hsl(string),model="hsl";break;case"hwb":val=cs.get.hwb(string),model="hwb";break;default:val=cs.get.rgb(string),model="rgb"}return val?{model:model,value:val}:null},cs.get.rgb=function(string){if(!string)return null;var match,i,hexAlpha,rgb=[0,0,0,1];if(match=string.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(hexAlpha=match[2],match=match[1],i=0;i<3;i++){var i2=2*i;rgb[i]=parseInt(match.slice(i2,i2+2),16)}hexAlpha&&(rgb[3]=Math.round(parseInt(hexAlpha,16)/255*100)/100)}else if(match=string.match(/^#([a-f0-9]{3,4})$/i)){for(hexAlpha=(match=match[1])[3],i=0;i<3;i++)rgb[i]=parseInt(match[i]+match[i],16);hexAlpha&&(rgb[3]=Math.round(parseInt(hexAlpha+hexAlpha,16)/255*100)/100)}else if(match=string.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)){for(i=0;i<3;i++)rgb[i]=parseInt(match[i+1],0);match[4]&&(rgb[3]=parseFloat(match[4]))}else{if(!(match=string.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)))return(match=string.match(/(\D+)/))?"transparent"===match[1]?[0,0,0,0]:(rgb=colorNames[match[1]])?(rgb[3]=1,rgb):null:null;for(i=0;i<3;i++)rgb[i]=Math.round(2.55*parseFloat(match[i+1]));match[4]&&(rgb[3]=parseFloat(match[4]))}for(i=0;i<3;i++)rgb[i]=clamp(rgb[i],0,255);return rgb[3]=clamp(rgb[3],0,1),rgb},cs.get.hsl=function(string){if(!string)return null;var match=string.match(/^hsla?\(\s*([+-]?(?:\d*\.)?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(match){var alpha=parseFloat(match[4]);return[(parseFloat(match[1])+360)%360,clamp(parseFloat(match[2]),0,100),clamp(parseFloat(match[3]),0,100),clamp(isNaN(alpha)?1:alpha,0,1)]}return null},cs.get.hwb=function(string){if(!string)return null;var match=string.match(/^hwb\(\s*([+-]?\d*[\.]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(match){var alpha=parseFloat(match[4]);return[(parseFloat(match[1])%360+360)%360,clamp(parseFloat(match[2]),0,100),clamp(parseFloat(match[3]),0,100),clamp(isNaN(alpha)?1:alpha,0,1)]}return null},cs.to.hex=function(){var rgba=swizzle(arguments);return"#"+hexDouble(rgba[0])+hexDouble(rgba[1])+hexDouble(rgba[2])+(rgba[3]<1?hexDouble(Math.round(255*rgba[3])):"")},cs.to.rgb=function(){var rgba=swizzle(arguments);return rgba.length<4||1===rgba[3]?"rgb("+Math.round(rgba[0])+", "+Math.round(rgba[1])+", "+Math.round(rgba[2])+")":"rgba("+Math.round(rgba[0])+", "+Math.round(rgba[1])+", "+Math.round(rgba[2])+", "+rgba[3]+")"},cs.to.rgb.percent=function(){var rgba=swizzle(arguments),r=Math.round(rgba[0]/255*100),g=Math.round(rgba[1]/255*100),b=Math.round(rgba[2]/255*100);return rgba.length<4||1===rgba[3]?"rgb("+r+"%, "+g+"%, "+b+"%)":"rgba("+r+"%, "+g+"%, "+b+"%, "+rgba[3]+")"},cs.to.hsl=function(){var hsla=swizzle(arguments);return hsla.length<4||1===hsla[3]?"hsl("+hsla[0]+", "+hsla[1]+"%, "+hsla[2]+"%)":"hsla("+hsla[0]+", "+hsla[1]+"%, "+hsla[2]+"%, "+hsla[3]+")"},cs.to.hwb=function(){var hwba=swizzle(arguments),a="";return hwba.length>=4&&1!==hwba[3]&&(a=", "+hwba[3]),"hwb("+hwba[0]+", "+hwba[1]+"%, "+hwba[2]+"%"+a+")"},cs.to.keyword=function(rgb){return reverseNames[rgb.slice(0,3)]}},function(module,exports,__webpack_require__){"use strict";var isArrayish=__webpack_require__(9),concat=Array.prototype.concat,slice=Array.prototype.slice,swizzle=module.exports=function(args){for(var results=[],i=0,len=args.length;i<len;i++){var arg=args[i];isArrayish(arg)?results=concat.call(results,slice.call(arg)):results.push(arg)}return results};swizzle.wrap=function(fn){return function(){return fn(swizzle(arguments))}}},function(module,exports){module.exports=function(obj){return!(!obj||"string"==typeof obj)&&(obj instanceof Array||Array.isArray(obj)||obj.length>=0&&(obj.splice instanceof Function||Object.getOwnPropertyDescriptor(obj,obj.length-1)&&"String"!==obj.constructor.name))}},function(module,exports,__webpack_require__){var conversions=__webpack_require__(2),route=__webpack_require__(11),convert={};Object.keys(conversions).forEach((function(fromModel){convert[fromModel]={},Object.defineProperty(convert[fromModel],"channels",{value:conversions[fromModel].channels}),Object.defineProperty(convert[fromModel],"labels",{value:conversions[fromModel].labels});var routes=route(fromModel);Object.keys(routes).forEach((function(toModel){var fn=routes[toModel];convert[fromModel][toModel]=function(fn){var wrappedFn=function(args){if(null==args)return args;arguments.length>1&&(args=Array.prototype.slice.call(arguments));var result=fn(args);if("object"==typeof result)for(var len=result.length,i=0;i<len;i++)result[i]=Math.round(result[i]);return result};return"conversion"in fn&&(wrappedFn.conversion=fn.conversion),wrappedFn}(fn),convert[fromModel][toModel].raw=function(fn){var wrappedFn=function(args){return null==args?args:(arguments.length>1&&(args=Array.prototype.slice.call(arguments)),fn(args))};return"conversion"in fn&&(wrappedFn.conversion=fn.conversion),wrappedFn}(fn)}))})),module.exports=convert},function(module,exports,__webpack_require__){var conversions=__webpack_require__(2);function deriveBFS(fromModel){var graph=function(){for(var graph={},models=Object.keys(conversions),len=models.length,i=0;i<len;i++)graph[models[i]]={distance:-1,parent:null};return graph}(),queue=[fromModel];for(graph[fromModel].distance=0;queue.length;)for(var current=queue.pop(),adjacents=Object.keys(conversions[current]),len=adjacents.length,i=0;i<len;i++){var adjacent=adjacents[i],node=graph[adjacent];-1===node.distance&&(node.distance=graph[current].distance+1,node.parent=current,queue.unshift(adjacent))}return graph}function link(from,to){return function(args){return to(from(args))}}function wrapConversion(toModel,graph){for(var path=[graph[toModel].parent,toModel],fn=conversions[graph[toModel].parent][toModel],cur=graph[toModel].parent;graph[cur].parent;)path.unshift(graph[cur].parent),fn=link(conversions[graph[cur].parent][cur],fn),cur=graph[cur].parent;return fn.conversion=path,fn}module.exports=function(fromModel){for(var graph=deriveBFS(fromModel),conversion={},models=Object.keys(graph),len=models.length,i=0;i<len;i++){var toModel=models[i];null!==graph[toModel].parent&&(conversion[toModel]=wrapConversion(toModel,graph))}return conversion}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(3);var canvas,ctx,pixelRatio=window.devicePixelRatio||1;canvas=document.querySelector("#canvas"),ctx=canvas.getContext("2d");var grid_width=100,grid_height=34,calculatedFontSize=window.innerWidth/grid_width,cellWidth=calculatedFontSize*pixelRatio,cellHeight=1.2*calculatedFontSize*pixelRatio,fontSize=calculatedFontSize*pixelRatio;canvas.style.cssText="width: ".concat(calculatedFontSize*grid_width,"; height: ").concat(1.2*calculatedFontSize*grid_height),canvas.width=cellWidth*grid_width,canvas.height=cellHeight*grid_height,ctx.font="normal ".concat(fontSize,"px ").concat("Menlo"),ctx.textAlign="center",ctx.textBaseline="middle";var drawBackground=function(color,position){"transparent"!==color&&(ctx.fillStyle=color.hsl().string("hsla"),ctx.fillRect(position.x*cellWidth,position.y*cellHeight,cellWidth,cellHeight))},drawChar=function(_char,color,position){ctx.fillStyle=color.hsl().string("hsla"),ctx.fillText(_char,position.x*cellWidth+cellWidth/2,position.y*cellHeight+cellHeight/2)},game={userInput:null,playerTurn:!0,turn:0};function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classPrivateFieldGet(receiver,privateMap){var descriptor=privateMap.get(receiver);if(!descriptor)throw new TypeError("attempted to get private field on non-instance");return descriptor.get?descriptor.get.call(receiver):descriptor.value}function _classPrivateFieldSet(receiver,privateMap,value){var descriptor=privateMap.get(receiver);if(!descriptor)throw new TypeError("attempted to set private field on non-instance");if(descriptor.set)descriptor.set.call(receiver,value);else{if(!descriptor.writable)throw new TypeError("attempted to set read only private field");descriptor.value=value}return value}const camelCase=(input,options)=>{if("string"!=typeof input&&!Array.isArray(input))throw new TypeError("Expected the input to be `string | string[]`");options={pascalCase:!1,...options};return 0===(input=Array.isArray(input)?input.map(x=>x.trim()).filter(x=>x.length).join("-"):input.trim()).length?"":1===input.length?options.pascalCase?input.toLocaleUpperCase():input.toLocaleLowerCase():(input!==input.toLocaleLowerCase()&&(input=(string=>{let isLastCharLower=!1,isLastCharUpper=!1,isLastLastCharUpper=!1;for(let i=0;i<string.length;i++){const character=string[i];isLastCharLower&&/[\p{Lu}]/u.test(character)?(string=string.slice(0,i)+"-"+string.slice(i),isLastCharLower=!1,isLastLastCharUpper=isLastCharUpper,isLastCharUpper=!0,i++):isLastCharUpper&&isLastLastCharUpper&&/[\p{Ll}]/u.test(character)?(string=string.slice(0,i-1)+"-"+string.slice(i-1),isLastLastCharUpper=isLastCharUpper,isLastCharUpper=!1,isLastCharLower=!0):(isLastCharLower=character.toLocaleLowerCase()===character&&character.toLocaleUpperCase()!==character,isLastLastCharUpper=isLastCharUpper,isLastCharUpper=character.toLocaleUpperCase()===character&&character.toLocaleLowerCase()!==character)}return string})(input)),input=input.replace(/^[_.\- ]+/,"").toLocaleLowerCase().replace(/[_.\- ]+([\p{Alpha}\p{N}_]|$)/gu,(_,p1)=>p1.toLocaleUpperCase()).replace(/\d+([\p{Alpha}\p{N}_]|$)/gu,m=>m.toLocaleUpperCase()),x=input,options.pascalCase?x.charAt(0).toLocaleUpperCase()+x.slice(1):x);var x};var camelcase=camelCase,_default=camelCase;camelcase.default=_default;class Property{constructor(component){_defineProperty(this,"component",void 0),this.component=component}get ecs(){return this.component.ecs}get descriptor(){return{enumerable:!0,get:()=>this.get(),set:v=>this.set(v)}}get(){}set(value){}serialize(){}onDestroyed(){}cleanupReference(entity){}}class SimpleProperty extends Property{constructor(...args){super(...args),_defineProperty(this,"value",null)}set(value){this.value=value}get(){return this.value}serialize(){return this.value}}class EntityProperty extends Property{constructor(...args){super(...args),_defineProperty(this,"id",void 0)}set(value){return!this.id||value&&value.id===this.id&&value===this.id||this.ecs.entities.removeRef(this.id,this),value&&value.id?(this.ecs.entities.addRef(value.id,this),void(this.id=value.id)):"string"==typeof value?(this.ecs.entities.addRef(value,this),void(this.id=value)):void(this.id=void 0)}get(){return this.id&&this.component.ecs.getEntity(this.id)}serialize(){return this.id}onDestroyed(){this.id&&this.ecs.entities.removeRef(this.id,this)}cleanupReference(entity){this.id===entity.id?this.id=void 0:console.warn(`Property in unclean state. A reference to an entity "${entity.id}" was never cleaned up.`)}}class EntityArrayProperty extends Property{constructor(component){super(component),_defineProperty(this,"proxy",[]),this.proxy=new Proxy([],{get:(target,prop,receiver)=>Reflect.get(target,prop,receiver),set:(target,prop,value,receiver)=>{if(isNaN(prop))return Reflect.set(target,prop,value,receiver);const old=Reflect.get(target,prop,receiver);return"string"==typeof value&&(value=this.ecs.entities.get(value)),old&&old!=value&&this.ecs.entities.removeRef(value,this),value&&value.id?(this.ecs.entities.addRef(value.id,this),Reflect.set(target,prop,value,receiver)):Reflect.set(target,prop,value,receiver)},deleteProperty:(target,prop)=>{if(isNaN(prop))return Reflect.deleteProperty(target,prop);const value=Reflect.get(target,prop);return this.ecs.entities.removeRef(value,this),Reflect.deleteProperty(target,prop)}})}set(values=[]){const len=Math.max(values.length,this.proxy.length);for(let i=0;i<len;i++)i in values?this.proxy[i]=values[i]:delete this.proxy[i];this.proxy.length=values.length}get(){return this.proxy}serialize(){return this.proxy.map(ref=>ref.id)}onDestroyed(){this.set([])}cleanupReference(entity){this.set(this.proxy.filter(ref=>ref.id!==entity.id))}}class PropertyStrategy{static create(component,value){switch(value){case"<Entity>":return new EntityProperty(component);case"<EntityArray>":return new EntityArrayProperty(component);default:return new SimpleProperty(component)}}}class Component{static get type(){return this.name}get entity(){return _classPrivateFieldGet(this,_entity)}get ecs(){return _classPrivateFieldGet(this,_ecs)}get type(){return this.constructor.name}get isAttached(){return Boolean(this.entity)}get isDestroyed(){return _classPrivateFieldGet(this,_isDestroyed)}get allowMultiple(){return this.constructor.allowMultiple}get keyProperty(){return this.constructor.keyProperty}get properties(){const ob={};for(const[key,value]of Object.entries(_classPrivateFieldGet(this,_props)))ob[key]=value.get();return ob}get key(){return this[this.keyProperty]}constructor(ecs,properties={}){_entity.set(this,{writable:!0,value:null}),_ecs.set(this,{writable:!0,value:null}),_props.set(this,{writable:!0,value:{}}),_isDestroyed.set(this,{writable:!0,value:!1}),_classPrivateFieldSet(this,_ecs,ecs),this._defineProxies(properties)}serialize(){return Object.entries(_classPrivateFieldGet(this,_props)).reduce((o,[key,value])=>({...o,[key]:value.serialize()}),{})}_onAttached(entity){_classPrivateFieldSet(this,_entity,entity),this.ecs.queries.onComponentAdded(entity,this),this.onAttached()}_onDetached(){if(this.isAttached){this.onDetached();const entity=_classPrivateFieldGet(this,_entity);_classPrivateFieldSet(this,_entity,null),this.ecs.queries.onComponentRemoved(entity,this)}}_onDestroyed(){_classPrivateFieldSet(this,_isDestroyed,!0),this.onDestroyed();for(const prop of Object.values(_classPrivateFieldGet(this,_props)))prop.onDestroyed()}onAttached(){}onDetached(){}onDestroyed(){}remove(destroy=!0){this.isAttached&&this.entity.remove(this),destroy&&this._onDestroyed()}destroy(){this.remove(!0)}_onEvent(evt){this.onEvent(evt);const handlerName=camelcase("on "+evt.name);"function"==typeof this[handlerName]&&this[handlerName](evt)}onEvent(evt){}_defaultPropertyValue(propertyName){const value=this.constructor.properties[propertyName];return"<EntityArray>"===value?[]:"<Entity>"!==value?value:void 0}_defineProxies(initialProperties){for(const key in this.constructor.properties){const initialValue=initialProperties.hasOwnProperty(key)?initialProperties[key]:this._defaultPropertyValue(key),property=PropertyStrategy.create(this,this.constructor.properties[key]);_classPrivateFieldGet(this,_props)[key]=property,Object.defineProperty(this,key,property.descriptor),property.set(initialValue)}}}var _entity=new WeakMap,_ecs=new WeakMap,_props=new WeakMap,_isDestroyed=new WeakMap;_defineProperty(Component,"allowMultiple",!1),_defineProperty(Component,"keyProperty",null),_defineProperty(Component,"properties",{});class ComponentRegistry{constructor(ecs){_nameCache.set(this,{writable:!0,value:new Map}),_definitions.set(this,{writable:!0,value:new Map}),_ecs$1.set(this,{writable:!0,value:null}),_classPrivateFieldSet(this,_ecs$1,ecs)}register(component){_classPrivateFieldGet(this,_definitions).set(component.name,component),_classPrivateFieldGet(this,_nameCache).set(component.name,camelcase(component.name))}getAccessor(type){if(_classPrivateFieldGet(this,_nameCache).has(type))return _classPrivateFieldGet(this,_nameCache).get(type);_classPrivateFieldGet(this,_nameCache).set(type,camelcase(type))}get(typeOrClassOrComponent){const type=this._getType(typeOrClassOrComponent);return type?_classPrivateFieldGet(this,_definitions).get(type):(console.warn(`Cannot get component definition for type or class ${typeOrClassOrComponent} since it is neither a Component class or type (string)`),null)}create(typeOrClass,properties={}){const definition=this.get(typeOrClass);if(definition)return new definition(_classPrivateFieldGet(this,_ecs$1),properties);console.warn(`Could not create component definition for ${typeOrClass} since it is not registered`)}_getType(typeOrClassOrComponent){return"string"==typeof typeOrClassOrComponent?typeOrClassOrComponent:typeOrClassOrComponent instanceof Component?typeOrClassOrComponent.type:typeOrClassOrComponent.prototype instanceof Component?typeOrClassOrComponent.name:null}}var _nameCache=new WeakMap,_definitions=new WeakMap,_ecs$1=new WeakMap,isMergeableObject=function(value){return function(value){return!!value&&"object"==typeof value}(value)&&!function(value){var stringValue=Object.prototype.toString.call(value);return"[object RegExp]"===stringValue||"[object Date]"===stringValue||function(value){return value.$$typeof===REACT_ELEMENT_TYPE}(value)}(value)};var REACT_ELEMENT_TYPE="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function cloneUnlessOtherwiseSpecified(value,options){return!1!==options.clone&&options.isMergeableObject(value)?deepmerge((val=value,Array.isArray(val)?[]:{}),value,options):value;var val}function defaultArrayMerge(target,source,options){return target.concat(source).map((function(element){return cloneUnlessOtherwiseSpecified(element,options)}))}function getKeys(target){return Object.keys(target).concat(function(target){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(target).filter((function(symbol){return target.propertyIsEnumerable(symbol)})):[]}(target))}function propertyIsOnObject(object,property){try{return property in object}catch(_){return!1}}function mergeObject(target,source,options){var destination={};return options.isMergeableObject(target)&&getKeys(target).forEach((function(key){destination[key]=cloneUnlessOtherwiseSpecified(target[key],options)})),getKeys(source).forEach((function(key){(function(target,key){return propertyIsOnObject(target,key)&&!(Object.hasOwnProperty.call(target,key)&&Object.propertyIsEnumerable.call(target,key))})(target,key)||(propertyIsOnObject(target,key)&&options.isMergeableObject(source[key])?destination[key]=function(key,options){if(!options.customMerge)return deepmerge;var customMerge=options.customMerge(key);return"function"==typeof customMerge?customMerge:deepmerge}(key,options)(target[key],source[key],options):destination[key]=cloneUnlessOtherwiseSpecified(source[key],options))})),destination}function deepmerge(target,source,options){(options=options||{}).arrayMerge=options.arrayMerge||defaultArrayMerge,options.isMergeableObject=options.isMergeableObject||isMergeableObject,options.cloneUnlessOtherwiseSpecified=cloneUnlessOtherwiseSpecified;var sourceIsArray=Array.isArray(source);return sourceIsArray===Array.isArray(target)?sourceIsArray?options.arrayMerge(target,source,options):mergeObject(target,source,options):cloneUnlessOtherwiseSpecified(source,options)}deepmerge.all=function(array,options){if(!Array.isArray(array))throw new Error("first argument should be an array");return array.reduce((function(prev,next){return deepmerge(prev,next,options)}),{})};var cjs=deepmerge;class PrefabComponent{get type(){return this.componentDef.type}constructor(componentDef,properties={},overwrite=!0){this.componentDef=componentDef,this.properties=properties,this.overwrite=overwrite}applyToEntity(entity,initialProps={}){if(!this.componentDef.allowMultiple&&entity.has(this.componentDef)){if(!this.overwrite)return void console.log(`Ignoring prefab component "${this.type}" since the entity "${entity.id}" already has one.`);entity.remove(this.componentDef)}const props=cjs(this.properties,initialProps);entity.add(this.componentDef,props)}}class Prefab{constructor(ecs,name){_defineProperty(this,"name",""),_defineProperty(this,"inherit",[]),_defineProperty(this,"components",[]),this.ecs=ecs,this.name=name}addComponent(prefabComponent){this.components.push(prefabComponent)}applyToEntity(entity,initialProps={}){this.inherit.forEach(parent=>{parent.applyToEntity(entity,initialProps)});const arrComps={};return this.components.forEach((component,i)=>{const definition=component.componentDef,accessor=this.ecs.components.getAccessor(definition.type);let initialCompProps={};if(definition.allowMultiple)if(definition.keyProperty){const key=component.properties[definition.keyProperty];initialProps[accessor]&&initialProps[accessor][key]&&(initialCompProps=initialProps[accessor][key])}else arrComps[accessor]||(arrComps[accessor]=0),initialProps[accessor]&&initialProps[accessor][arrComps[accessor]]&&(initialCompProps=initialProps[accessor][arrComps[accessor]]),arrComps[accessor]++;else initialCompProps=initialProps[accessor];component.applyToEntity(entity,initialCompProps)}),entity}}class PrefabRegistry{constructor(ecs){_prefabs.set(this,{writable:!0,value:{}}),_ecs$2.set(this,{writable:!0,value:null}),_classPrivateFieldSet(this,_ecs$2,ecs)}deserialize(data){const registered=this.get(data.name);if(registered)return registered;const prefab=new Prefab(_classPrivateFieldGet(this,_ecs$2),data.name);let inherit;inherit=Array.isArray(data.inherit)?data.inherit:"string"==typeof data.inherit?[data.inherit]:[],prefab.inherit=inherit.map(parent=>{const ref=this.get(parent);return ref||(console.warn(`Prefab "${data.name}" cannot inherit from Prefab "${parent}" because is not registered yet! Prefabs must be registered in the right order.`),parent)});const comps=data.components||[];for(const componentData of comps)if("string"==typeof componentData||componentData.prototype instanceof Component){const def=_classPrivateFieldGet(this,_ecs$2).components.get(componentData);def&&prefab.addComponent(new PrefabComponent(def))}else if("object"==typeof componentData){const type=componentData.type,def=_classPrivateFieldGet(this,_ecs$2).components.get(type);def&&prefab.addComponent(new PrefabComponent(def,componentData.properties,componentData.overwrite))}else console.warn(`Unrecognized component reference "${componentData}" in prefab "${data.name}". Ensure the component is registered before the prefab.`);return this.register(prefab),prefab}register(prefab){_classPrivateFieldGet(this,_prefabs)[prefab.name]=prefab}get(nameOrClassOrPrefab){const name=PrefabRegistry._getName(nameOrClassOrPrefab);return _classPrivateFieldGet(this,_prefabs)[name]}create(nameOrClass,initialProps={}){const prefab=this.get(nameOrClass);if(!prefab)return void console.warn(`Could not instantiate prefab for ${nameOrClass} since it is not registered`);const entity=_classPrivateFieldGet(this,_ecs$2).createEntity();return prefab.applyToEntity(entity,initialProps),entity}static _getName(nameOrClassOrPrefab){return"string"==typeof nameOrClassOrPrefab?nameOrClassOrPrefab:nameOrClassOrPrefab instanceof Prefab||nameOrClassOrPrefab.prototype instanceof Prefab?nameOrClassOrPrefab.name:null}}var _prefabs=new WeakMap,_ecs$2=new WeakMap;class EntityEvent{get prevented(){return _classPrivateFieldGet(this,_prevented)}get handled(){return _classPrivateFieldGet(this,_handled)}constructor(name,data={}){_defineProperty(this,"data",{}),_prevented.set(this,{writable:!0,value:!1}),_handled.set(this,{writable:!0,value:!1}),this.name=name,this.data=data}is(name){return this.name===name}handle(){_classPrivateFieldSet(this,_handled,!0),_classPrivateFieldSet(this,_prevented,!0)}prevent(){_classPrivateFieldSet(this,_prevented,!0)}}var _prevented=new WeakMap,_handled=new WeakMap;class Entity{get ecs(){return _classPrivateFieldGet(this,_ecs$3)}get components(){return _classPrivateFieldGet(this,_components)}get isDestroyed(){return _classPrivateFieldGet(this,_isDestroyed$1)}constructor(ecs,id=null){_id.set(this,{writable:!0,value:null}),_components.set(this,{writable:!0,value:{}}),_ecs$3.set(this,{writable:!0,value:null}),_isDestroyed$1.set(this,{writable:!0,value:!1}),_classPrivateFieldSet(this,_ecs$3,ecs),_classPrivateFieldSet(this,_id,id||ecs.generateId()),Object.defineProperty(this,"id",{value:_classPrivateFieldGet(this,_id),enumerable:!0,writable:!1})}has(typeOrClass,key=null){const type=this.ecs.components._getType(typeOrClass),accessor=this.ecs.components.getAccessor(type),hasType=this.hasOwnProperty(accessor);return hasType&&key?this[accessor].hasOwnProperty(key):hasType}get(typeOrClass,key=null){const type=this.ecs.components._getType(typeOrClass),components=this[this.ecs.components.getAccessor(type)];return components&&key?components[key]:components}destroy(){_classPrivateFieldSet(this,_isDestroyed$1,!0);for(const component of Object.values(this.components))if(component instanceof Component)component.destroy();else for(const nestedComponent of Object.values(component))nestedComponent.destroy();this.ecs.entities.onEntityDestroyed(this)}add(typeOrClass,properties={}){const component=this.ecs.components.create(typeOrClass,properties);return component?this.attach(component):(console.warn(`"${typeOrClass}" component cannot be added, since it is not registered.`),!1)}attach(component){const accessor=this.ecs.components.getAccessor(component.type);return component.allowMultiple?component.keyProperty?component.key?(this.components[accessor]||(this.components[accessor]={},Object.defineProperty(this,accessor,{configurable:!0,enumerable:!0,get(){return this.components[accessor]}})),this.components[accessor][component.key]=component,component._onAttached(this),this.ecs.queries.onComponentAdded(this,component),!0):(console.warn(`"${component.type}" component has a falsy key of "${component.key}". The keyProperty is set to "${component.keyProperty}".`),!1):(this.components[accessor]||(this.components[accessor]=[],Object.defineProperty(this,accessor,{configurable:!0,enumerable:!0,get(){return this.components[accessor]}})),this.components[accessor].push(component),component._onAttached(this),this.ecs.queries.onComponentAdded(this),!0):this.has(component.type)?(console.warn(`"${component.type}" component has allowMultiple set to ${component.allowMultiple}. Trying to add a "${component.type}" component to an entity which already has one.`),!1):(this.components[accessor]=component,Object.defineProperty(this,accessor,{enumerable:!0,configurable:!0,get(){return this.components[accessor]}}),component._onAttached(this),this.ecs.queries.onComponentAdded(this),!0)}owns(component){return component.entity===this}remove(typeOrClassOrComponent,key=null){const isComponent=typeOrClassOrComponent instanceof Component;key=isComponent?typeOrClassOrComponent.key:key;const definition=this.ecs.components.get(typeOrClassOrComponent),accessor=this.ecs.components.getAccessor(definition.type);if(definition.allowMultiple){if(!definition.keyProperty){if(!isComponent){for(const instance of this.components[accessor])instance._onDetached();return delete this[accessor],delete this.components[accessor],this.ecs.queries.onComponentRemoved(this),!0}{const all=this.components[accessor];if(!all)return void console.warn(`Trying to remove a "${definition.type}" component from an entity, but it wasn't found.`);const index=all.indexOf(typeOrClassOrComponent);if(index>-1)return all.splice(index,1),typeOrClassOrComponent._onDetached(),0===all.length&&(delete this[accessor],delete this.components[accessor]),this.ecs.queries.onComponentRemoved(this),!0}}if(!key)return void console.warn(`Trying to remove a "${definition.type}" component which allows multiple without specifying an key.`);const all=this.components[accessor],component=all[key];return component?(delete all[key],component._onDetached(),Object.keys(all).length<=0&&(delete this[accessor],delete this.components[accessor]),this.ecs.queries.onComponentRemoved(this),component):void console.warn(`Trying to remove a "${definition.type}" component from an entity at "${key}", but it wasn't found.`)}if(accessor in this){const component=this.components[accessor];return delete this[accessor],delete this.components[accessor],component._onDetached(),this.ecs.queries.onComponentRemoved(this),component}console.warn(`Trying to remove a "${definition.type}" component from an entity, but it wasn't found.`)}serialize(){return Object.entries(this.components).reduce((o,[key,value])=>value instanceof Component?{...o,[key]:value.serialize()}:Array.isArray(value)?{...o,[key]:value.map(v=>v.serialize())}:{...o,[key]:Object.entries(value).reduce((o2,[k2,v2])=>({...o2,[k2]:v2.serialize()}),{})},{id:this.id})}fireEvent(name,data){const evt=new EntityEvent(name,data);for(const component of Object.values(this.components))if(component instanceof Component){if(component._onEvent(evt),evt.prevented)return evt}else for(const nestedComponent of Object.values(component))if(nestedComponent._onEvent(evt),evt.prevented)return evt;return evt}}var _id=new WeakMap,_components=new WeakMap,_ecs$3=new WeakMap,_isDestroyed$1=new WeakMap;class EntityRegistry{constructor(ecs){_entities.set(this,{writable:!0,value:new Map}),_ecs$4.set(this,{writable:!0,value:null}),_refs.set(this,{writable:!0,value:new Map}),_classPrivateFieldSet(this,_ecs$4,ecs)}get all(){return _classPrivateFieldGet(this,_entities).values()}register(entity){return _classPrivateFieldGet(this,_entities).set(entity.id,entity),entity}get(id){return _classPrivateFieldGet(this,_entities).get(id)}createOrGetById(id){const entity=this.get(id);return entity||this.create(id)}create(id){const entity=new Entity(_classPrivateFieldGet(this,_ecs$4),id);return this.register(entity),_classPrivateFieldGet(this,_ecs$4).queries.onEntityCreated(entity),entity}destroy(entity){entity.destroy()}onEntityDestroyed(entity){this.cleanupRefs(entity),_classPrivateFieldGet(this,_entities).delete(entity.id),_classPrivateFieldGet(this,_ecs$4).queries.onEntityDestroyed(entity)}cleanupRefs(entity){const refs=_classPrivateFieldGet(this,_refs).get(entity.id);if(refs){for(const ref of refs)ref.cleanupReference(entity);delete _classPrivateFieldGet(this,_refs)[entity.id]}}addRef(entityId,property){_classPrivateFieldGet(this,_refs).has(entityId)?_classPrivateFieldGet(this,_refs).get(entityId).add(property):_classPrivateFieldGet(this,_refs).set(entityId,new Set([property]))}removeRef(entityId,property){_classPrivateFieldGet(this,_refs).has(entityId)&&_classPrivateFieldGet(this,_refs).get(entityId).delete(property)}serialize(){const json=[];return _classPrivateFieldGet(this,_entities).forEach(entity=>{json.push(entity.serialize())}),json}deserialize(data){for(const entityData of data.entities)this.createOrGetById(entityData.id);for(const entityData of data.entities)this.deserializeEntity(entityData)}deserializeEntity(data){const{id:id,...componentData}=data,entity=this.createOrGetById(id);Object.entries(componentData).forEach(([key,value])=>{const type=camelcase(key,{pascalCase:!0}),definition=_classPrivateFieldGet(this,_ecs$4).components.get(type);definition.allowMultiple?Object.values(value).forEach(d=>{entity.add(definition,d)}):entity.add(definition,value)})}}var _entities=new WeakMap,_ecs$4=new WeakMap,_refs=new WeakMap;class Query{constructor(ecs,filter={}){_ecs$5.set(this,{writable:!0,value:void 0}),_filter.set(this,{writable:!0,value:void 0}),_cache.set(this,{writable:!0,value:new Set}),_classPrivateFieldSet(this,_ecs$5,ecs),_classPrivateFieldSet(this,_filter,cjs({any:[],all:[],none:[]},filter)),this.bustCache()}isMatch(entity){const hasAny=!_classPrivateFieldGet(this,_filter).any.length||_classPrivateFieldGet(this,_filter).any.some(c=>entity.has(c)),hasAll=_classPrivateFieldGet(this,_filter).all.every(c=>entity.has(c)),hasNone=!_classPrivateFieldGet(this,_filter).none.some(c=>entity.has(c));return hasAny&&hasAll&&hasNone}candidate(entity){return this.isMatch(entity)?(_classPrivateFieldGet(this,_cache).add(entity),!0):(_classPrivateFieldGet(this,_cache).delete(entity),!1)}_onEntityCreated(entity){this.candidate(entity)}_onComponentAdded(entity){this.candidate(entity)}_onComponentRemoved(entity){this.candidate(entity)}_onEntityDestroyed(entity){_classPrivateFieldGet(this,_cache).delete(entity)}bustCache(){_classPrivateFieldGet(this,_cache).clear();for(const entity of _classPrivateFieldGet(this,_ecs$5).entities.all)this.candidate(entity);return _classPrivateFieldGet(this,_cache)}get(){return _classPrivateFieldGet(this,_cache)}}var _ecs$5=new WeakMap,_filter=new WeakMap,_cache=new WeakMap;class QueryRegistry{constructor(ecs){_ecs$6.set(this,{writable:!0,value:void 0}),_queries.set(this,{writable:!0,value:[]}),_classPrivateFieldSet(this,_ecs$6,ecs)}create(filters){const query=new Query(_classPrivateFieldGet(this,_ecs$6),filters);return _classPrivateFieldGet(this,_queries).push(query),query}onComponentAdded(entity){_classPrivateFieldGet(this,_queries).forEach(query=>query._onComponentAdded(entity))}onComponentRemoved(entity){_classPrivateFieldGet(this,_queries).forEach(query=>query._onComponentRemoved(entity))}onEntityCreated(entity){_classPrivateFieldGet(this,_queries).forEach(query=>query._onEntityCreated(entity))}onEntityDestroyed(entity){_classPrivateFieldGet(this,_queries).forEach(query=>query._onEntityDestroyed(entity))}}var _ecs$6=new WeakMap,_queries=new WeakMap;var color=__webpack_require__(0),color_default=__webpack_require__.n(color),colors={defaultColor:color_default()("#ff0077"),defaultBGColor:color_default()("#000"),inventoryHighlight:color_default()("#A9CCE3"),torchLight:color_default()("#FFD00E"),campfire:color_default()("#FFD00E"),fountain:color_default()("#3366FF"),armor:color_default()("#DAA520"),bandage:color_default()("#F7DC6F"),chest:color_default()("#DAA520"),currency:color_default()("#DAA520"),multipleItems:color_default()("#DAA520"),potion:color_default()("#DAA520"),weapon:color_default()("#DAA520"),hudText:color_default()("#fff"),healthBar:color_default()("#B91906"),wall:color_default()("#AAA"),floor:color_default()("#555"),cavernFloor:color_default()("#71331E"),stairsUp:color_default()("#AAA"),stairsDown:color_default()("#AAA"),player:color_default()("#FFF"),goblin:color_default()("#0C9"),rat:color_default()("#F1948A")};function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function ecs_defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var ecs=new class{constructor(){this.idGenerator=()=>((size=21)=>{let id="",i=size;for(;i--;)id+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return id})(),this.components=new ComponentRegistry(this),this.prefabs=new PrefabRegistry(this),this.entities=new EntityRegistry(this),this.queries=new QueryRegistry(this)}generateId(){return this.idGenerator()}createEntity(){return this.entities.create()}createPrefab(nameOrClass,initialProps={}){return this.prefabs.create(nameOrClass,initialProps)}destroyEntity(entity){return this.entities.destroy(entity)}registerPrefab(data){this.prefabs.deserialize(data)}registerComponent(component){this.components.register(component)}getEntity(id){return this.entities.get(id)}createComponent(type,properties){return this.components.create(type,properties)}createQuery(filters){return this.queries.create(filters)}serialize(){return{entities:this.entities.serialize()}}deserialize(data){return data.id?this.entities.deserializeEntity(data):this.entities.deserialize(data)}},Appearance=function(_Component){_inherits(Appearance,_Component);var _super=_createSuper(Appearance);function Appearance(){return _classCallCheck(this,Appearance),_super.apply(this,arguments)}return Appearance}(Component);ecs_defineProperty(Appearance,"properties",{color:colors.defaultColor,char:"?",background:"transparent",layer:100});var MoveTo=function(_Component2){_inherits(MoveTo,_Component2);var _super2=_createSuper(MoveTo);function MoveTo(){return _classCallCheck(this,MoveTo),_super2.apply(this,arguments)}return MoveTo}(Component);ecs_defineProperty(MoveTo,"properties",{x:0,y:0});var Position=function(_Component3){_inherits(Position,_Component3);var _super3=_createSuper(Position);function Position(){return _classCallCheck(this,Position),_super3.apply(this,arguments)}return Position}(Component);ecs_defineProperty(Position,"properties",{x:0,y:0}),ecs.registerComponent(Appearance),ecs.registerComponent(MoveTo),ecs.registerComponent(Position);var player=ecs.createEntity();player.add(Position),player.add(Appearance,{char:"@",color:colors.player});var state_ecs=ecs,render_render=function(){ctx.clearRect(0,0,canvas.width,canvas.height),state_ecs.createQuery({all:[Appearance]}).get().forEach((function(entity){!function(entity){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},fg=options.fg,bg=options.bg,x=options.x,y=options.y,_entity$appearance=entity.appearance,_char2=_entity$appearance.char,background=_entity$appearance.background,color=_entity$appearance.color,position=entity.position,bgColor=bg||background,charColor=fg||color,pos=x&&y?{x:x,y:y}:position;drawBackground(bgColor,pos),drawChar(_char2,charColor,pos)}(entity)}))};function gameTick(){state_ecs.createQuery({all:[MoveTo,Position]}).get().forEach((function(entity){var mPos={x:entity.position.x+entity.moveTo.x,y:entity.position.y+entity.moveTo.y};entity.position.x=mPos.x,entity.position.y=mPos.y,entity.remove(MoveTo)})),render_render()}function update(){game.userInput&&game.playerTurn&&(!function(){if(game.userInput){var _game$userInput=game.userInput,type=(_game$userInput.key,_game$userInput.type),payload=_game$userInput.payload;"MOVE"===type&&player.add(MoveTo,payload)}}(),gameTick(),game.userInput=null,game.turn=game.turn+=1,game.playerTurn=!1),game.playerTurn||(gameTick(),game.playerTurn=!0)}document.addEventListener("keydown",(function(ev){return function(key){switch(key){case"z":game.userInput={key:key,type:"REST",payload:{}};break;case"ArrowUp":game.userInput={key:key,type:"MOVE",payload:{x:0,y:-1}};break;case"ArrowDown":game.userInput={key:key,type:"MOVE",payload:{x:0,y:1}};break;case"ArrowLeft":game.userInput={key:key,type:"MOVE",payload:{x:-1,y:0}};break;case"ArrowRight":game.userInput={key:key,type:"MOVE",payload:{x:1,y:0}};break;case"Escape":game.userInput={key:key,type:"ESCAPE",payload:{}}}}(ev.key)})),gameTick(),requestAnimationFrame((function gameLoop(){update(),requestAnimationFrame(gameLoop)}))}]);
//# sourceMappingURL=main.7a1b41824ba623311be8.js.map